{% extends 'admin/base.html.twig' %}

{% block title %}Tableau de bord{% endblock %}

{% block body %}
    {% block content %}
        <div class="container-fluid">
            <!-- Breadcrumbs-->
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="#">Tableau de bord</a>
                </li>
                <li class="breadcrumb-item active">My Dashboard</li>
            </ol>
            <!-- Icon Cards-->
            <div class="row">
                <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card dashboard text-white bg-primary o-hidden h-100">
                        <div class="card-body">
                            <div class="card-body-icon">
                                <i class="fa fa-fw fa-envelope-open"></i>
                            </div>
                            <div class="mr-5"><h5>{{ stats.demands }} demandes</h5></div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card dashboard text-white bg-warning o-hidden h-100">
                        <div class="card-body">
                            <div class="card-body-icon">
                                <i class="fa fa-fw fa-star"></i>
                            </div>
                            <div class="mr-5"><h5>{{ stats.executions }} executions de service</h5></div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card dashboard text-white bg-success o-hidden h-100">
                        <div class="card-body">
                            <div class="card-body-icon">
                                <i class="fa fa-fw fa-calendar-check-o"></i>
                            </div>
                            <div class="mr-5"><h5>{{ stats.comments }} commentaires</h5></div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card dashboard text-white bg-danger o-hidden h-100">
                        <div class="card-body">
                            <div class="card-body-icon">
                                <i class="fa fa-fw fa-heart"></i>
                            </div>
                            <div class="mr-5"><h5>Total utilisateurs : {{ stats.users }} </h5></div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
                <div class="row">
                    <div class="col">
                        <div class="alert alert-success">
                            <h3 class="alert-heading my-3">
                                {#<i class="icon-up-open-2"></i>#}
                                Les prestataires les mieux notés.
                            </h3>
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th>Prestataire</th>
                                    <th>Moyenne des notes</th>
                                    <th>Catégorie</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for provider in bestProviders %}
                                    <tr>
                                        <td>{{ provider.name }}</td>
                                        <td>
                                            <span class="badge badge-dark">
                                                {{ provider.note | number_format(1, ",", " ")}}
                                            </span>
                                        </td>
                                        <td></td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col">
                        <div class="alert alert-danger">
                            <h3 class="alert-heading my-3">
                                {#<i class="icon-up-open-2"></i>#}
                                Les prestataires les moins bien notés.
                            </h3>
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th>Prestataire</th>
                                    <th>Moyenne des notes</th>
                                    <th>Catégorie</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for provider in worstProviders %}
                                    <tr>
                                        <td>{{ provider.name }}</td>
                                        <td>
                                            <span class="badge badge-dark">
                                                {{ provider.note | number_format(1, ",", " ")}}
                                            </span>
                                        </td>
                                        <td></td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
        </div>
    {% endblock %}
{% endblock %}
